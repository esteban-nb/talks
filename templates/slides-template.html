<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>{{TITLE}}</title>

  <!-- Reveal.js core CSS -->
  <link rel="stylesheet" href="dist/reset.css">
  <link rel="stylesheet" href="dist/reveal.css">

  <!-- Theme assets -->
  <link rel="stylesheet" href="../assets/slides-style.css">

  <!-- Highlight.js styles -->
  <link rel="stylesheet" href="../highlightjs/styles/{{HIGHLIGHT_THEME}}.css" id="highlight-theme">
</head>

<body data-theme="light">
  <!-- Toggle -->
  <div id="mode-toggle-container" title="Switch Theme">
    <svg id="theme-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path class="frame frame-1"
        d="M9.225 18.412a1.595 1.595 0 0 1 -1.225 .588c-.468 0 -.914 -.214 -1.225 -.588l-4.361 -5.248a1.844 1.844 0 0 1 0 -2.328l4.361 -5.248a1.595 1.595 0 0 1 1.225 -.588c.468 0 .914 .214 1.225 .588l4.361 5.248a1.844 1.844 0 0 1 0 2.328l-4.361 5.248z" />
      <path class="frame frame-2" d="M17 5l4.586 5.836a1.844 1.844 0 0 1 0 2.328l-4.586 5.836" />
      <path class="frame frame-3" d="M13 5l4.586 5.836a1.844 1.844 0 0 1 0 2.328l-4.586 5.836" />
    </svg>
  </div>

  <div class="reveal">
    <div class="slides">
      {{CONTENT}}
    </div>
  </div>

  <!-- Reveal.js core JS -->
  <script src="dist/reveal.js"></script>

  <!-- Plugins -->
  <script src="plugin/notes/notes.js"></script>
  <script src="plugin/markdown/markdown.js"></script>
  <script src="plugin/highlight/highlight.js"></script>
  <script src="plugin/math/math.js"></script>
  <script src="plugin/zoom/zoom.js"></script>

  <!-- Shared highlightjs engine -->
  <script src="../highlightjs/highlight.js"></script>

  <!-- Shared theme logic -->
  <script src="../assets/ldm-toggle.js"></script>

  <script>
    const config = {{ CONFIG }};

    // Ensure essential plugins are always loaded
    config.plugins = [
      RevealMarkdown,
      RevealHighlight,
      RevealNotes,
      RevealMath.MathJax3, // or KaTeX
      RevealZoom
    ];

    Reveal.initialize(config);
  </script>
</body>

</html>
