<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <!-- Add other metadata: author, data, keywords, but also generator and version -->

  <title>{{TITLE}}</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <!-- Reveal.js core CSS (shared at ../ level) -->
  <link rel="stylesheet" href="../dist/reset.css">
  <link rel="stylesheet" href="../dist/reveal.css">

  <!-- Custom assets -->
  <link rel="stylesheet" href="../assets/slides-style.css">

  <!-- Highlight.js code theme -->
  <link rel="stylesheet" href="../highlightjs/styles/{{HIGHLIGHT_THEME}}.min.css" id="highlight-theme">
</head>


<body data-theme="light">
  <!-- Toggle -->
  <div id="mode-toggle-container" title="Switch Theme">
    <svg id="theme-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path class="frame frame-1"
        d="M9.225 18.412a1.595 1.595 0 0 1 -1.225 .588c-.468 0 -.914 -.214 -1.225 -.588l-4.361 -5.248a1.844 1.844 0 0 1 0 -2.328l4.361 -5.248a1.595 1.595 0 0 1 1.225 -.588c.468 0 .914 .214 1.225 .588l4.361 5.248a1.844 1.844 0 0 1 0 2.328l-4.361 5.248z" />
      <path class="frame frame-2" d="M17 5l4.586 5.836a1.844 1.844 0 0 1 0 2.328l-4.586 5.836" />
      <path class="frame frame-3" d="M13 5l4.586 5.836a1.844 1.844 0 0 1 0 2.328l-4.586 5.836" />
    </svg>
  </div>

  <div class="reveal">
    <div class="slides">
      <!-- TODO: add title and TOC slides -->
      {{CONTENT}}
      <!-- TODO: add closing slide -->
    </div>
  </div>

  <!-- Reveal.js core JS (shared at ../ level) -->
  <script src="../dist/reveal.js"></script>

  <!-- Essential plugins -->
  <script src="../plugin/notes/notes.js"></script>
  <script src="../plugin/search/search.js"></script>
  <script src="../plugin/markdown/markdown.js"></script>
  <script src="../plugin/highlight/highlight.js"></script>
  <script src="../plugin/math/math.js"></script>
  <script src="../plugin/zoom/zoom.js"></script>

  <!-- Shared highlight.js engine -->
  <script src="../highlightjs/highlight.js"></script>

  <!-- Shared theme toggle logic -->
  <script src="../assets/ldm-toggle.js"></script>

  <!-- Reveal initialization -->
  <script>
    const config = {{CONFIG}} || {
      hash: true,
      controls: false,
      markdown: {
        smartypants: true,
        highlightCode: true
      }
    };

    // Ensure essential plugins load
    config.plugins = [
      RevealMarkdown,
      RevealHighlight,
      RevealNotes,
      RevealMath.MathJax3,  // or KaTeX
      RevealZoom
    ];

    Reveal.initialize(config);
  </script>
</body>

</html>
